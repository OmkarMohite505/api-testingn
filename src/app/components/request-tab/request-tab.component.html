<p-tabView [(activeIndex)]="activeTabIndex" (onChange)="onTabChange($event)" (onClose)="onTabClose($event)">
  <p-tabView [(activeIndex)]="activeTabIndex" [scrollable]="true">
    <p-tabPanel
      *ngFor="let tab of requestTabs"
      [header]="tab.name ?? ''"
      [closable]="true"
    >
    </p-tabPanel>
  </p-tabView>
</p-tabView>

<p-dropdown
  [options]="requestTypeList"
  [(ngModel)]="activeTab.reqType"
  appendTo="Body"
/>
<input type="text" pInputText [(ngModel)]="activeTab.Url" style="width: 50%" />
<p-splitButton
  label="Send"
  (onClick)="sendHttpRequest('info')"
  [model]="items"
/>
<div class="card">
  <p-tabView (onChange)="onSubTabChange($event)">
    @for (section of tabSections; track section.label) {
    <p-tabPanel [header]="section.label">
      <ng-container [ngSwitch]="activeSubTab">
        <ng-container *ngSwitchCase="'Params'">
          <!-- Params UI -->
        </ng-container>
        <ng-container *ngSwitchCase="'Authorization'">
          <!-- Authorization UI -->
        </ng-container>
        <ng-container *ngSwitchCase="'Headers'">
          <!-- Headers UI -->
        </ng-container>
        <ng-container *ngSwitchCase="'Body'">
          <div
            style="width: 600px; height: 300px">
            <app-editor
              [editorOptions]="editorOptions"
              [code]="activeTab.body ?? ''"
              (codeChanged)="onBodyChange($event)"
            ></app-editor>
          </div>
        </ng-container>
      </ng-container>
    </p-tabPanel>
    }
  </p-tabView>
</div>

<div>
  <div style="width: 1000px; height: 600px">
    <app-editor
      [editorOptions]="editorOptions"
      [code]="activeTab.response ?? ''"
      [isFormatEditor]="true"
    ></app-editor>
  </div>
</div>
